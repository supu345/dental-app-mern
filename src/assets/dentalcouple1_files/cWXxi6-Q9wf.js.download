;/*FB_PKG_DELIM*/

__d("CometUFIShareActionLinkMenuQuery$Parameters",["CometUFIShareActionLinkMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometUFIShareActionLinkMenuQuery_facebookRelayOperation"),metadata:{},name:"CometUFIShareActionLinkMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFIShareActionLinkMenu.entrypoint",["CometUFIShareActionLinkMenuQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.feedLocation,d=a.qe_optional_share_to_page,e=a.storyUrl;a=a.url;return{extraProps:{},queries:{shareMenuQueryReference:{parameters:b("CometUFIShareActionLinkMenuQuery$Parameters"),variables:{feedLocation:c,hasParentStory:e!=null,qe_optional_share_to_page:(c=d)!=null?c:!1,shareableParams:{url:a},storyParams:{url:e}}}}}},root:c("JSResourceForInteraction")("CometUFIShareActionLinkMenu.react").__setRef("CometUFIShareActionLinkMenu.entrypoint")};g["default"]=a}),98);
__d("CometUFIShareAction_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIShareAction_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_reshare_warning",storageKey:null}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIShareAction_shareable.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIShareAction_shareable",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null}],type:"Story",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIShareActionLinkMenu_shareable"}],type:"Entity",abstractKey:"__isEntity"};e.exports=a}),null);
__d("CometUFIShareAction_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIShareAction_story",selections:[{args:null,kind:"FragmentSpread",name:"CometUFIShareActionLinkMenu_story"},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"link_type",storageKey:null}],type:"LinkOpenActionLink",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometUFIShareAction.react",["CometPressable.react","CometRelay","CometTrackingNodeProvider.react","CometUFIShareActionLinkMenu.entrypoint","CometUFIShareAction_feedback.graphql","CometUFIShareAction_shareable.graphql","CometUFIShareAction_story.graphql","CometUFISharePopoverContext.react","FDSEntryPointPopoverTrigger.react","ReshareWarningCometDialog.entrypoint","cometGetKeyCommandConfig","cr:1761713","gkx","react","react-compiler-runtime","recoverableViolation","requireDeferred","useCometEntryPointDialog","useKeyCommands","useMergeRefs","useShareLogger","useUnifiedShareSheetLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.useCallback,n=e.useContext,o=e.useMemo,p=e.useRef,q=e.useState,r=c("requireDeferred")("ShareMetricsLoggingController").__setRef("CometUFIShareAction.react"),s={circularButton:{borderTopColor:"x1l1xfun",borderEndColor:"xv160w3",borderBottomColor:"xwwskcc",borderStartColor:"xsb8bxb",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",height:"x90ne7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"x1691je0",$$css:!0}};function t(a){var b=d("react-compiler-runtime").c(3),e=a.children;a=a.refs;a=c("useMergeRefs").apply(void 0,a);var f;b[0]!==e||b[1]!==a?(f=e(a),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}function u(){var a=p(null),b=m(function(){var b=a.current;b!=null&&b.click()},[]),e=o(function(){return[d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","shareStory",b)]},[b]);c("useKeyCommands")(e,!0);return a}function a(a){var e=d("react-compiler-runtime").c(36),f=a.buttonVariant,g=a.children,k=a.feedback,m=a.feedLocation,o=a.onPress,v=a.parentStory,w=a.productData;a=a.shareable;var x=f===void 0?"DEFAULT":f;f=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFIShareAction_feedback.graphql"),k);k=n(c("CometUFISharePopoverContext.react"));k=k.ufiSharePopoverRef;var y=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFIShareAction_story.graphql"),v),z=d("CometRelay").useFragment(j!==void 0?j:j=b("CometUFIShareAction_shareable.graphql"),a);v=q(!f.should_show_reshare_warning);var A=v[0],B=v[1],C=p(null);v=(a=f.id)!=null?a:"";e[0]!==v?(f={feedbackID:v},e[0]=v,e[1]=f):f=e[1];a=c("useCometEntryPointDialog")(c("ReshareWarningCometDialog.entrypoint"),f);var D=a[0];e[2]!==D?(v=function(a){D({},function(b){B(b),b&&a()})},e[2]=D,e[3]=v):v=e[3];var E=v,F=p(!1),G=u();f=c("useUnifiedShareSheetLogger")();var H=f.onCloseDropdownMenu;a=c("useShareLogger")();var I=a.onOpenSharesheetButtonClicked,J=(f=(v=z==null?void 0:z.post_id)!=null?v:y==null?void 0:y.post_id)!=null?f:z==null?void 0:z.id;e[4]!==m||e[5]!==I||e[6]!==(y==null?void 0:y.tracking)||e[7]!==J?(a=function(){var a;return I({entry_point:m,feed_tracking:[(a=y==null?void 0:y.tracking)!=null?a:""],shareable_entity_fbid:J,sharing_component_name:"ufi_share_button"})},e[4]=m,e[5]=I,e[6]=y==null?void 0:y.tracking,e[7]=J,e[8]=a):a=e[8];y==null?void 0:y.tracking;var K=a;if(z.url==null){c("recoverableViolation")("Can't render a share button without a `url`","ufi2");return null}e[9]!==m||e[10]!==H||e[11]!==z.id||e[12]!==J?(v=function(a){F.current&&!a?(r.onReady(function(a){a.logShareFlowAbandoned(z.id,m)}),H({entry_point:m,shareable_entity_fbid:J,sharing_component_name:"facebook_sharesheet"})):!F.current&&a&&r.onReady(function(a){a.logShareFlowStarted(z.id,m)}),F.current=a},e[9]=m,e[10]=H,e[11]=z.id,e[12]=J,e[13]=v):v=e[13];f=v;e[14]!==m||e[15]!==y||e[16]!==w||e[17]!==z?(a=y!=null?{feedLocation:m,parentStory:y,productData:w,shareable:z}:{feedLocation:m,productData:w,shareable:z},e[14]=m,e[15]=y,e[16]=w,e[17]=z,e[18]=a):a=e[18];v=a;w=(y==null?void 0:(w=y.attachments)==null?void 0:(a=w[0])==null?void 0:(w=a.action_links)==null?void 0:(a=w[0])==null?void 0:a.link_type)==="VIEW_INSTAGRAM_PROFILE"?y==null?void 0:y.url:z.url;e[19]!==m||e[20]!==w?(a={feedLocation:m,qe_optional_share_to_page:c("gkx")("22883"),url:w},e[19]=m,e[20]=w,e[21]=a):a=e[21];e[22]!==x||e[23]!==g||e[24]!==A||e[25]!==K||e[26]!==o||e[27]!==G||e[28]!==E?(w=function(a,d,e,f,h,i){return l.jsx(t,{refs:[a,C,G],children:function(a){return l.jsx(c("CometPressable.react"),{label:b("cr:1761713"),onHoverIn:f,onHoverOut:h,onPress:function(){A?d():E(d),o==null?void 0:o(),K()},onPressIn:i,overlayRadius:4,preventContextMenu:!0,ref:a,testid:void 0,xstyle:x==="CIRCULAR"&&s.circularButton,children:g})}})},e[22]=x,e[23]=g,e[24]=A,e[25]=K,e[26]=o,e[27]=G,e[28]=E,e[29]=w):w=e[29];var L;e[30]!==f||e[31]!==v||e[32]!==a||e[33]!==w||e[34]!==k?(L=l.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:17,children:l.jsx(c("FDSEntryPointPopoverTrigger.react"),{align:"middle",entryPointParams:a,imperativeRef:k,onVisibilityChange:f,otherProps:v,popoverEntryPoint:c("CometUFIShareActionLinkMenu.entrypoint"),preloadTrigger:"button_aggressive",children:w})}),e[30]=f,e[31]=v,e[32]=a,e[33]=w,e[34]=k,e[35]=L):L=e[35];return L}g["default"]=a}),98);